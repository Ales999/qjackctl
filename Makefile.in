prefix  = @ac_prefix@
qmake   = @ac_qmake@

name    = qjackctl
headers = qjackctlMainForm.ui.h qjackctlPatchbay.h config.h
sources = qjackctlMainForm.ui qjackctlPatchbay.cpp main.cpp

all:	$(name)

$(name).mak:	$(name).pro
	@$(qmake) -o $(name).mak $(name).pro

$(name):	$(name).mak $(sources) $(headers)
	@make -f $(name).mak $(name)

install:	$(name) $(name).xpm
	@install -vD $(name) $(prefix)/bin/$(name)
	@install -vD $(name).xpm $(prefix)/share/icons/$(name).xpm

uninstall:	$(prefix)/bin/$(name)
	@rm -vf $(prefix)/bin/$(name)
	@rm -vf $(prefix)/share/icons/$(name).xpm

clean:	$(name).mak
	@make -f $(name).mak clean
	@rm -f $(name) $(name).mak
	@rm -rf *.cache *.log *.status

