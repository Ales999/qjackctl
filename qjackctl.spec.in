%define name    @PACKAGE_TARNAME@
%define version @PACKAGE_VERSION@
%define release 9
%define prefix  @ac_prefix@

Summary:	JACK Audio Connection Kit Qt GUI Interface.
Name:		%{name}
Version:	%{version}
Release:	%{release}
Prefix:		%{prefix}
License:	GPL
Group:		Productivity/Multimedia/Sound/Utilities
Source0:	%{name}-%{version}.tar.gz
URL:		http://qjackctl.sourceforge.net/

BuildRoot:	%{_tmppath}/%{name}-%{version}-%{release}-buildroot

Requires:	qt >= 4.1
Requires:	jack >= 0.100.0
Requires:	alsa

BuildRequires:	qt-devel >= 4.1
BuildRequires:	jack-devel >= 0.100.0
BuildRequires:	alsa-devel

%description
JACK Audio Connection Kit - Qt GUI Interface: A simple Qt application
to control the JACK server. Written in C++ around the Qt4 toolkit
for X11, most exclusively using Qt Designer. Provides a simple GUI
dialog for setting several JACK server parameters, which are properly
saved between sessions, and a way control of the status of the audio
server. With time, this primordial interface has become richer by 
including a enhanced patchbay and connection control features.

%prep
%setup
[ -f Makefile.cvs ] && %__make -f Makefile.cvs

%build
%configure
%__make

%install
%makeinstall

%clean
[ -d %{buildroot} -a "%{buildroot}" != "" ] && %__rm -rf  %{buildroot}

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog README TODO
%{_bindir}/%{name}
%{_datadir}/applications/%{name}.desktop
%{_datadir}/pixmaps/%{name}.png

%changelog
* Sat Jun 07 2008 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Patchbay JACK-MIDI, file logging and X11 uniqueness.
* Thu Dec 20 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Patchbay heads-up with season greetings. 
* Thu Jul 19 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- System-tray tooltip icon crash fix.
* Wed Jul 18 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Shallowed bug-fix release..
* Tue Jul 10 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Qt4 migration was complete.
* Mon Jun 25 2007 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Application icon is now installed to (prefix)/share/pixmaps.
- Declared fundamental build and run-time requirements.
- Destination install directory prefix is now in spec.
- Spec is now a bit more openSUSE compliant.
* Wed May 31 2006 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Changed copyright to license attribute
* Wed Aug 24 2005 Rui Nuno Capela <rncbc@users.sourceforge.net>
- Created initial qjackctl.spec
